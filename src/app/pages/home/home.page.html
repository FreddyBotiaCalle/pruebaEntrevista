<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>
      Gestor de Tareas
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Mi Lista de Tareas</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- EstadÃ­sticas -->
  <ion-card>
    <ion-card-content>
      <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; text-align: center;">
        <div>
          <h3>{{ stats.total }}</h3>
          <p>Total</p>
        </div>
        <div>
          <h3 style="color: var(--ion-color-success);">{{ stats.completed }}</h3>
          <p>Completadas</p>
        </div>
        <div>
          <h3 style="color: var(--ion-color-warning);">{{ stats.pending }}</h3>
          <p>Pendientes</p>
        </div>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Formulario para crear tareas -->
  <app-todo-form></app-todo-form>

  <!-- Filtros -->
  <app-todo-filters
    [searchTerm]="searchTerm"
    [filterType]="filterType"
    (searchTermChange)="onSearchChange($event)"
    (filterTypeChange)="onFilterChange($event)"
  ></app-todo-filters>

  <!-- Lista de tareas filtrada -->
  <app-todo-list
    [todos]="filteredTodos"
    (deleteTodo)="onDeleteTodo($event)"
    (toggleTodo)="onToggleTodo($event)"
    (editTodo)="onEditTodo($event)"
  ></app-todo-list>

  <!-- BotÃ³n para limpiar completadas -->
  <div *ngIf="stats.completed > 0" style="padding: 1rem; text-align: center;">
    <ion-button expand="block" color="danger" (click)="clearCompleted()">
      Eliminar Tareas Completadas
    </ion-button>
  </div>
</ion-content>
